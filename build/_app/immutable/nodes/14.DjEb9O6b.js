var x=(o,s,e)=>new Promise((u,n)=>{var f=r=>{try{i(e.next(r))}catch(m){n(m)}},v=r=>{try{i(e.throw(r))}catch(m){n(m)}},i=r=>r.done?u(r.value):Promise.resolve(r.value).then(f,v);i((e=e.apply(o,s)).next())});import"../chunks/COm6N4YE.js";import{p as P,f as M,a as $,b,c as U,s as p,d as N,r as k,o as c,m as g,l as a,n as W,V as F,W as J}from"../chunks/FcNz6uVe.js";import{g as S}from"../chunks/QXgKwo3K.js";import{a as A,b as K,c as Y,B as j}from"../chunks/Dx98FtbP.js";import{C as z}from"../chunks/Bm_8EKST.js";import{L as G}from"../chunks/CQ_J3efe.js";import{T as O}from"../chunks/CAS4DjvC.js";import{M as H}from"../chunks/BQspDZ5E.js";import{e as I,f as V,c as R,a as q,i as Q,s as y}from"../chunks/tpmtnrJv.js";import{D as _}from"../chunks/D4ODo2ld.js";import{a as X}from"../chunks/BqIH7s4d.js";import{c as Z}from"../chunks/BWmCwwzs.js";import{i as ee}from"../chunks/B-3Zg4Vs.js";function re(o,s){return o.length>128?["The bio must be at most 128 characters long","",!1]:s.length>128?["","The location must be at most 128 characters long",!1]:["","",!0]}function te(o,s){return x(this,null,function*(){try{const e=yield I(yield V(R.apiPaths.user(),{method:"PATCH",headers:{Authorization:`Bearer ${X.get("accessToken")}`},body:JSON.stringify({bio:o,location:s})},R.fetchTimeout));return ee(e)||A(_.BAD_RESPONSE),Z.set({loading:!1,error:null,data:e}),q(null);S("/app")}catch(e){return Q(e)?(A(e),y(e)):e instanceof TypeError?(K(),y(_.NETWORK_ERROR)):(Y(e),y(_.UNKNOWN(e)))}})}var ae=M('<header class="flex flex-col align-center justify-center h-14"><!></header> <div class="flex flex-col gap-1 items-center mt-4 mb-1"><h2 class="font-alegreya text-2xl pb-0 mb-0">Tell us more about you</h2> <h4 class="text-md text-light-fg-700 dark:text-dark-fg-700 text-center pb-5">You can also leave the fields empty, if you prefer</h4> <!> <!> <!></div>',1),oe=M("<!> <!>",1);function ye(o,s){P(s,!0);let e=g(""),u=g(""),n=g(""),f=g("");function v(){return x(this,null,function*(){let d=!1;(h=>{var l=J(h,3);c(u,l[0],!0),c(f,l[1],!0),d=l[2]})(re(a(e),a(n))),!(!d||(yield te(a(e),a(n))).error!==null)&&S("/app")})}var i=oe(),r=$(i);z(r,{children:(d,B)=>{var h=ae(),l=$(h),C=N(l);G(C,{className:"w-full h-auto"}),k(l);var w=p(l,2),T=p(N(w),4);O(T,{placeholder:"Location",className:"w-80 max-w-full pb-2",noDecoration:!0,get value(){return a(n)},set value(t){c(n,t,!0)},get errorMessage(){return a(f)},set errorMessage(t){c(f,t,!0)}});var E=p(T,2);O(E,{placeholder:"Your Bio",className:"w-80 max-w-full pb-3",noDecoration:!0,textarea:!0,maxLength:"128",get value(){return a(e)},set value(t){c(e,t,!0)},get errorMessage(){return a(u)},set errorMessage(t){c(u,t,!0)}});var D=p(E,2);j(D,{accent:!0,className:"text-light-card-1 dark:text-dark-card-1 w-80 max-w-full",onclick:v,children:(t,se)=>{W();var L=F("Ok");b(t,L)},$$slots:{default:!0}}),k(w),b(d,h)},$$slots:{default:!0}});var m=p(r,2);H(m,{}),b(o,i),U()}export{ye as component};
