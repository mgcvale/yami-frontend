var j=(v,t,e)=>new Promise((a,s)=>{var l=i=>{try{m(e.next(i))}catch(o){s(o)}},n=i=>{try{m(e.throw(i))}catch(o){s(o)}},m=i=>i.done?a(i.value):Promise.resolve(i.value).then(l,n);m((e=e.apply(v,t)).next())});import{l as et,a as rt}from"../chunks/D81uzl0O.js";import{D as V}from"../chunks/D4ODo2ld.js";import{e as D}from"../chunks/C3_eTjx-.js";import"../chunks/COm6N4YE.js";import{p as N,h as S,a as P,g as z,b as u,c as R,j as B,k as G,f as w,t as I,d as h,s as k,l as _,X as O,r as x,m as L,o as C,n as U,V as W}from"../chunks/FcNz6uVe.js";import{i as M}from"../chunks/7ms9Oyq9.js";import{s as y,o as ot}from"../chunks/CQT1G1Sl.js";import{I as q,b as J,c as K,g as H,d as st}from"../chunks/tpmtnrJv.js";import{c as nt}from"../chunks/B-YvmJ5T.js";import{d as Q,e as it,f as dt}from"../chunks/BsEKk5dv.js";import{s as T,a as lt}from"../chunks/Cb4E-4CT.js";import{b as ct}from"../chunks/nfhiTeln.js";import{s as Y,r as Z,p as X}from"../chunks/BdHP4ea0.js";import{g as vt}from"../chunks/QXgKwo3K.js";import{R as ft}from"../chunks/Bg0mXhfR.js";import{B as $}from"../chunks/Dx98FtbP.js";import{E as ut}from"../chunks/B6OjRboD.js";function mt(v,t){N(t,!0);let e=Z(t,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"}],["path",{d:"M2 6h4"}],["path",{d:"M2 10h4"}],["path",{d:"M2 14h4"}],["path",{d:"M2 18h4"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"}]];q(v,Y({name:"notebook-pen"},()=>e,{get iconNode(){return a},children:(s,l)=>{var n=S(),m=P(n);z(m,()=>{var i;return(i=t.children)!=null?i:B}),u(s,n)},$$slots:{default:!0}})),R()}function gt(v,t){N(t,!0);let e=Z(t,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"m2.37 11.223 8.372-6.777a2 2 0 0 1 2.516 0l8.371 6.777"}],["path",{d:"M21 15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-5.25"}],["path",{d:"M3 15a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9"}],["path",{d:"m6.67 15 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2"}],["rect",{width:"20",height:"4",x:"2",y:"11",rx:"1"}]];q(v,Y({name:"sandwich"},()=>e,{get iconNode(){return a},children:(s,l)=>{var n=S(),m=P(n);z(m,()=>{var i;return(i=t.children)!=null?i:B}),u(s,n)},$$slots:{default:!0}})),R()}const ht=!1,xt=v=>j(null,null,function*(){const t=v.url.searchParams.get("id");if(!t)throw D(V.INVALID_PAGE_PARAMS.status,V.INVALID_PAGE_PARAMS);const e=parseInt(t),a=yield et(e);if(a.error)throw D(a.error.status,a.error);return{restaurant:a.data,restaurantId:e}}),ra=Object.freeze(Object.defineProperty({__proto__:null,load:xt,ssr:ht},Symbol.toStringTag,{value:"Module"}));var _t=(v,t,e)=>t(_(e)),pt=w("<button><!> </button>"),kt=w(`<div><!> <div class="
            absolute left-0 bottom-0 h-0.5 
            bg-light-accent dark:bg-dark-accent 
            transition-all duration-300 ease-in-out
        "></div></div>`);function bt(v,t){N(t,!0);let e=X(t,"entries",19,()=>[]),a=X(t,"currentEntry",15),s=G({});const l=O(()=>()=>{var g;const o=s[(g=a())==null?void 0:g.value];if(!o)return"width: 0px; transform: translateX(0px); opacity: 0;";const r=o.offsetLeft;return`width: ${o.offsetWidth}px; transform: translateX(${r}px); opacity: 1;`});var n=kt(),m=h(n);J(m,17,e,o=>o.value,(o,r)=>{var f=pt();f.__click=[_t,a,r];var g=h(f);nt(g,()=>_(r).icon,(d,c)=>{c(d,{})});var p=k(g);x(f),ct(f,(d,c)=>s[c.value]=d,d=>s==null?void 0:s[d.value],()=>[_(r)]),I(()=>{var d;T(f,1,`
                h-fit flex items-center gap-2 pb-2 px-4 transition-colors duration-300
                ${_(r).value===a().value?"text-light-fg-300 dark:text-dark-fg-300":"text-light-fg-900 dark:text-dark-fg-900"}
            `),y(p,` ${(d=_(r).name)!=null?d:""}`)}),u(o,f)});var i=k(m,2);x(n),I(o=>{var r,f;T(n,1,`relative flex justify-around items-center w-full h-fit ${(f=(r=t.className)!=null?r:"")!=null?f:""}`),lt(i,o)},[()=>_(l)()]),u(v,n),R()}Q(["click"]);var wt=(v,t)=>{vt(`/app/food?id=${t.food.id}`)},yt=w('<span class="font-medium text-md">No ratings</span>'),Nt=w('<img class="max-w-16 rounded-lg"/>'),Rt=w('<button class="w-full h-fit bg-light-card-2 hover:bg-light-card-3 dark:hover:bg-dark-card-2 active:bg-light-card-3 dark:active:bg-dark-card-2 dark:bg-dark-card-1 p-3 items-start flex flex-col gap-2 jutsify-start rounded-2xl cursor-pointer"><div class="flex justify-between items-start w-full gap-2 h-fit"><h3 class="text-lg text-ms text-left line-clamp-2 break-words"> </h3> <!></div> <div class="flex gap-2"><!> <p class="text-start text-sm text-light-fg-700 dark:text-dark-fg-700"> </p></div></button>');function It(v,t){N(t,!0);let e=L(!0);var a=Rt();a.__click=[wt,t];var s=h(a),l=h(s),n=h(l,!0);x(l);var m=k(l,2);{var i=c=>{var b=yt();u(c,b)},o=c=>{ft(c,{get rating(){return t.food.avgRating}})};M(m,c=>{t.food.avgRating===0?c(i):c(o,!1)})}x(s);var r=k(s,2),f=h(r);{var g=c=>{var b=Nt();I(A=>{H(b,"src",A),H(b,"alt",t.food.description)},[()=>K.apiPaths.foodImage(t.food.id)]),it("error",b,()=>C(e,!1)),dt(b),u(c,b)};M(f,c=>{_(e)&&c(g)})}var p=k(f,2),d=h(p,!0);x(p),x(r),x(a),I(()=>{y(n,t.food.name),y(d,t.food.description)}),u(v,a),R()}Q(["click"]);var Pt=w("<p>Loading</p>"),Mt=w('<h2> </h2> <div class="flex justify-center w-full"><!></div>',1),At=w('<div class="flex flex-col gap-4"><!></div>');function Ct(v,t){N(t,!0);let e=L(!0),a=L(null);function s(){return j(this,null,function*(){C(e,!0),C(a,yield rt(t.restaurantId),!0),C(e,!1)})}ot(()=>j(null,null,function*(){return s()}));var l=At(),n=h(l);{var m=o=>{var r=Pt();u(o,r)},i=o=>{var r=S(),f=P(r);{var g=d=>{var c=Mt(),b=P(c),A=h(b);x(b);var E=k(b,2),tt=h(E);$(tt,{onclick:s,children:(F,Dt)=>{U();var at=W("Reload Restaurant");u(F,at)},$$slots:{default:!0}}),x(E),I(()=>{var F;return y(A,`An error ocurred while loading this restaurant's foods: ${(F=_(a).error.message)!=null?F:""}`)}),u(d,c)},p=d=>{var c=S(),b=P(c);J(b,17,()=>_(a).data,st,(A,E)=>{It(A,{get food(){return _(E)}})}),u(d,c)};M(f,d=>{_(a).error!==null?d(g):d(p,!1)})}u(o,r)};M(n,o=>{_(e)?o(m):o(i,!1)})}x(l),u(v,l),R()}var Et=w('<span class="text-sm text-light-fg-700 dark:text-dark-fg-700">â€¢ From <span> </span></span>'),Ft=w('<div class="flex flex-col justify-start items-start text-start"><h2 class="text-light-fg-50 dark:text-dark-fg-50 text-xl font-bold font-alegreya mx-1"> </h2> <h4 class="text-md font-dm-sans text-light-fg-300 dark:text-dark-fg-300 text-ms mx-1"> <!></h4> <h4 class="text-md font-dm-sans text-light-fg-500 dark:text-dark-fg-500 text-ms mx-1"> </h4> <!></div>');function jt(v,t){N(t,!0);var e=Ft(),a=h(e),s=h(a);x(a);var l=k(a,2),n=h(l),m=k(n);{var i=g=>{var p=Et(),d=k(h(p)),c=h(d,!0);x(d),x(p),I(()=>y(c,t.data.location)),u(g,p)};M(m,g=>{t.data.location!==void 0&&t.data.location.trim()!==""&&g(i)})}x(l);var o=k(l,2),r=h(o,!0);x(o);var f=k(o,2);$(f,{className:"w-full rounded-ml py-0.5 mt-2",children:(g,p)=>{U();var d=W();d.nodeValue="Follow",u(g,d)},$$slots:{default:!0}}),x(e),I(()=>{var g,p;y(s,`@${(g=t.data.shortName)!=null?g:""}`),y(n,`${(p=t.data.name)!=null?p:""} `),y(r,t.data.description)}),u(v,e),R()}var St=w("<!> <!>",1);function Lt(v,t){N(t,!0);var e=St(),a=P(e);const s=O(()=>K.apiPaths.restaurantImage(t.data.id)),l=O(()=>[{name:"Reviews",nameClassName:"text-ml",count:t.data.reviewCount,countClassName:"text-lg"},{name:"Foods",nameClassName:"text-ml",count:t.data.foodCount,countClassName:"text-lg"},{name:"Followers",nameClassName:"text-sm text-light-fg-700 dark:text-dark-fg-700",count:-1,countClassName:"text-md"}]);ut(a,{className:"h-24",get name(){return t.data.name},get pictureUrl(){return _(s)},get headers(){return _(l)}});var n=k(a,2);jt(n,{get data(){return t.data}}),u(v,e),R()}var Ot=w("<p>reviews</p>"),Vt=w('<div class="flex flex-col py-4 pt-6 px-2 gap-3 text-center"><!> <!> <!></div>');function oa(v,t){N(t,!0);const e=[{name:"Foods",value:"foods",icon:gt},{name:"Reviews",value:"reviews",icon:mt}];let a=L(G(e[0]));var s=Vt(),l=h(s);Lt(l,{get data(){return t.data.restaurant}});var n=k(l,2);bt(n,{get entries(){return e},className:"mb-2",get currentEntry(){return _(a)},set currentEntry(r){C(a,r,!0)}});var m=k(n,2);{var i=r=>{var f=Ot();u(r,f)},o=r=>{Ct(r,{get restaurantId(){return t.data.restaurantId}})};M(m,r=>{_(a).value==="reviews"?r(i):r(o,!1)})}x(s),u(v,s),R()}export{oa as component,ra as universal};
