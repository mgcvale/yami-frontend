var x=t=>{throw TypeError(t)};var Q=(t,s,e)=>s.has(t)||x("Cannot "+e);var o=(t,s,e)=>(Q(t,s,"read from private field"),e?e.call(t):s.get(t)),p=(t,s,e)=>s.has(t)?x("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,e);var m=(t,s,e)=>new Promise((i,c)=>{var d=r=>{try{n(e.next(r))}catch(f){c(f)}},a=r=>{try{n(e.throw(r))}catch(f){c(f)}},n=r=>r.done?i(r.value):Promise.resolve(r.value).then(d,a);n((e=e.apply(t,s)).next())});import{w as T}from"./BsEKk5dv.js";import"./COm6N4YE.js";import{p as $,h as E,a as _,g as w,j as R,b as U,c as C,ax as A,m as g,k as O,l as y,o as v,av as D}from"./FcNz6uVe.js";import{s as M,r as b}from"./BdHP4ea0.js";import{I as N,e as I,f as k,c as S,a as F,s as H}from"./tpmtnrJv.js";import{s as j}from"./CymkjPvo.js";import{i as z}from"./CqBOX26c.js";import{a as B}from"./C8egYXTT.js";import{D as J}from"./D4ODo2ld.js";import{h as K}from"./Dx98FtbP.js";function L(t,s){$(s,!0);let e=b(s,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M15 22a1 1 0 0 1-1-1v-4a1 1 0 0 1 .445-.832l3-2a1 1 0 0 1 1.11 0l3 2A1 1 0 0 1 22 17v4a1 1 0 0 1-1 1z"}],["path",{d:"M18 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 .601.2"}],["path",{d:"M18 22v-3"}],["circle",{cx:"10",cy:"10",r:"3"}]];N(t,M({name:"map-pin-house"},()=>e,{get iconNode(){return i},children:(c,d)=>{var a=E(),n=_(a);w(n,()=>{var r;return(r=s.children)!=null?r:R}),U(c,a)},$$slots:{default:!0}})),C()}function W(t,s){$(s,!0);let e=b(s,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]];N(t,M({name:"user"},()=>e,{get iconNode(){return i},children:(c,d)=>{var a=E(),n=_(a);w(n,()=>{var r;return(r=s.children)!=null?r:R}),U(c,a)},$$slots:{default:!0}})),C()}const X={user:{name:"User",icon:W,value:"user"},restaurant:{name:"Restaurant",icon:L,value:"restaurant"}},is=T(X.user);function Y(t){return m(this,null,function*(){try{const s=yield I(yield k(S.apiPaths.searchUser(t),{},S.fetchTimeout));return console.log(s),z(s,B)?F(s):(console.error("Invalid response on searchUser.ts"),H(J.BAD_RESPONSE))}catch(s){return K(s)}})}var u,l,h;class G{constructor(){p(this,u,g(O({users:null,restaurants:null,foods:null})));p(this,l,g(!1));p(this,h,g(""))}get results(){return y(o(this,u))}set results(s){v(o(this,u),s,!0)}get loading(){return y(o(this,l))}set loading(s){v(o(this,l),s,!0)}get currentQuery(){return y(o(this,h))}set currentQuery(s){v(o(this,h),s,!0)}searchUsers(s){return m(this,null,function*(){this.loading=!0,this.currentQuery=s,this.results.users=yield Y(s),this.loading=!1})}searchRestaurants(s){return m(this,null,function*(){this.loading=!0,this.currentQuery=s,this.results.restaurants=yield j(s),this.loading=!1})}clearResults(){this.results={users:null,restaurants:null,foods:null},this.currentQuery=""}}u=new WeakMap,l=new WeakMap,h=new WeakMap;const P=Symbol("search");function us(){const t=new G;return A(P,t),t}function ls(){const t=D(P);if(!t)throw new Error("Search context not found. Make sure to call setSearchContext() in a parent component.");return t}export{L as M,W as U,X as a,us as b,ls as g,is as s};
