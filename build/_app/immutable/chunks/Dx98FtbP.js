import"./COm6N4YE.js";import{t as y,v as x,z as E,ao as G,az as V,D as R,ae as Y,ah as j,af as z,an as N,J as B,aA as I,ad as b,p as K,f as $,g as W,b as w,c as C,d as m,r as h,s as v,V as F,n as H}from"./FcNz6uVe.js";import{s as J}from"./CQT1G1Sl.js";import{d as A}from"./BsEKk5dv.js";import{p,c as O,a as L,b as M}from"./BdHP4ea0.js";import{X as P,m as l,i as X,s as k}from"./tpmtnrJv.js";import{s as q}from"./Cb4E-4CT.js";import{D as T}from"./D4ODo2ld.js";function Q(e,r,c=!1,d=!1,g=!1){var o=e,n="";y(()=>{var u;var a=G;if(n===(n=(u=r())!=null?u:"")){x&&E();return}if(a.nodes_start!==null&&(V(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),n!==""){if(x){R.data;for(var t=E(),f=t;t!==null&&(t.nodeType!==8||t.data!=="");)f=t,t=Y(t);if(t===null)throw j(),z;N(R,f),o=B(t);return}var s=n+"";c?s=`<svg>${s}</svg>`:d&&(s=`<math>${s}</math>`);var i=I(s);if((c||d)&&(i=b(i)),N(b(i),i.lastChild),c||d)for(;b(i);)o.before(b(i));else o.before(i)}})}var Z=(e,r)=>r()(),ee=$("<button><!></button>");function re(e,r){K(r,!0);let c=p(r,"className",3,""),d=p(r,"outline",3,!1),g=p(r,"accent",3,!1),o=p(r,"onclick",3,()=>{}),n=p(r,"disabled",11,!1);var a=ee();a.__click=[Z,o];var t=m(a);W(t,()=>r.children),h(a),y(()=>{var f;q(a,1,`
    ${d()?g()?"border-light-fg-50 dark:border-dark-fg-500 bg-transparent":"border-light-button-accent dark:border-dark-button-accent bg-transparent":g()?"bg-light-fg-50 dark:bg-dark-fg-500/80 border-none text-light-card-2 dark:text-dark-card-1":"bg-light-card-3 dark:bg-dark-card-3 border-none dark:text-fg-700"}    
    border-2 rounded-md p-1 cursor-pointer ${n()?"opacity-30":""} ${(f=c())!=null?f:""}
`),a.disabled=n()}),w(e,a),C()}A(["click"]);var te=(e,r)=>O(l,null),ae=$('<div class="flex flex-col justify-between items-center p-2 w-fit relative"><h2 class="font-alegreya text-2.5xl font-medium text-light-fg-300 dark:text-dark-fg-500 text-center w-fit"> </h2> <h4 class="font-dm-sans text-[0.95rem] text-center p-3 py-6 pb-8"><!></h4> <div class="flex justify-end items-center w-full gap-3"><!></div> <button class="cursor-pointer absolute top-1.5 right-1.5"><!></button></div>');function _(e,r){const[c,d]=M(),g=()=>L(l,"$modalStore",c);var o=ae(),n=m(o),a=m(n,!0);h(n);var t=v(n,2),f=m(t);Q(f,()=>r.message),h(t);var s=v(t,2),i=m(s);re(i,{onclick:()=>O(l,null),accent:!0,className:"w-1/2 text-light-card-1 dark:text-dark-card-1",children:(U,ie)=>{H();var D=F("Ok");w(U,D)},$$slots:{default:!0}}),h(s);var u=v(s,2);u.__click=[te,g];var S=m(u);P(S,{}),h(u),h(o),y(()=>J(a,r.title)),w(e,o),d()}A(["click"]);function ne(e){l.set({component:_,props:{title:"Internal Error",message:"There was an error on our end. You can try again later, or notify us at <a href='https://github.com/mgcvale/yami' class='underline'>Github</a>"}})}function oe(e){l.set({component:_,props:{title:"Upstream error",message:"There was an error with one of our service providers. You can try again later, or notify us at <a href='https://github.com/mgcvale/yami' class='underline'>Github</a>"}})}function se(e){l.set({component:_,props:{title:"Unknown error",message:`There was an unknown error on our end. Error code: ${e.status}, error message: ${e.message}`}})}function pe(e){l.set({component:_,props:{title:"Network error",message:"A network error ocurred. Verify your internet connection and try again"}})}function _e(e){console.log("Setting unknown exception modal"),l.set({component:_,props:{title:"Unknown error",message:`There was an unknown error on our end. Error: ${e}`}})}function be(e){switch(e.status){case 500:return ne();case 502:return oe();default:return se(e)}}function ve(e){return X(e)?k(e):e instanceof TypeError?k(T.NETWORK_ERROR):k(T.UNKNOWN(e))}export{re as B,be as a,pe as b,_e as c,ve as h};
